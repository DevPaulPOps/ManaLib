\documentclass[11pt,a4paper,oneside]{report}

% Encodage et langue
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}

% Polices modernes
\usepackage{lmodern}
\usepackage{mathpazo} % Utilisation de Palatino pour une apparence élégante
\linespread{1.05} % Augmenter légèrement l'interligne pour améliorer la lisibilité

% Mathématiques et graphiques
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{float}
\usepackage{tikz}

% Mise en page
\usepackage{geometry}
\geometry{left=2.0cm,right=2.0cm,top=2.0cm,bottom=2.0cm}

% En-têtes et pieds de page
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\rhead{\leftmark}
\cfoot{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

% Pour les pages spécifiques sans header et footer
\fancypagestyle{plain}{
    \fancyhf{}
    \renewcommand{\headrulewidth}{0pt}
    \renewcommand{\footrulewidth}{0pt}
}

% Titres
\title{Rapport ArchiLogicielle}
\author{Paul Perigault / Owen Rebeller}
\date{Mai 2024}

% Listes de code
\usepackage{listings}
\usepackage{xcolor}
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{lightgray!20},
    commentstyle=\color{green},
    keywordstyle=\color{blue},
    numberstyle=\tiny\color{gray},
    stringstyle=\color{red},
    basicstyle=\ttfamily,
    inputencoding=utf8,
    extendedchars=false,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
    literate= {á}{{\'a}}1
        {é}{{\'e}}1
        {í}{{\'i}}1
        {ó}{{\'o}}1
        {ú}{{\'u}}1
        {ê}{{\^e}}1
        {è}{{\`e}}1
}
\lstset{style=mystyle}

% Hyperliens
\usepackage[pdfborder={0 0 0}]{hyperref}

% Tableaux
\usepackage{array, tabularx, longtable, booktabs}

% Références
\usepackage{apalike}

% Table des matières et autres
\usepackage{minitoc}
\usepackage{enumitem}
\usepackage{epigraph}
\usepackage{lscape}
\usepackage{mdframed}
\mdfdefinestyle{summary}{
    innertopmargin=10pt,
    innerbottommargin=10pt,
    innerleftmargin=10pt,
    innerrightmargin=10pt,
    backgroundcolor=gray!10,
    linecolor=gray!50,
    linewidth=1pt,
    frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\usepackage{emptypage}
\usepackage{multicol}
\usepackage{subcaption}

% Captions configuration
\usepackage{caption}
\captionsetup{font={sf, sl, small}, margin=3mm}
\captionsetup[lstlisting]{singlelinecheck=false}

% Personnalisation des sections et table des matières
\usepackage{titlesec}
\usepackage{tocloft}
\usepackage{sectsty}
\usepackage{flags}

% Couleurs personnalisées
\definecolor{chaptercolor}{RGB}{0, 102, 204}
\definecolor{subsectioncolor}{RGB}{0, 153, 51}
\definecolor{sectioncolor}{RGB}{204, 0, 102}

\chapterfont{\color{chaptercolor}}
\sectionfont{\color{sectioncolor}}
\subsectionfont{\color{subsectioncolor}}

% Table des matières personnalisée
\renewcommand{\cftsecfont}{\color{sectioncolor}}
\renewcommand{\cftsubsecfont}{\color{subsectioncolor}}
\renewcommand{\cftsecpagefont}{\color{sectioncolor}}
\renewcommand{\cftsubsecpagefont}{\color{subsectioncolor}}
\setlength{\cftbeforesecskip}{0pt}
\setlength{\cftbeforesubsecskip}{0pt}
\setlength{\cftaftertoctitleskip}{10pt} % Réduire l'espacement après le titre de la table des matières
\setlength{\cftbeforetoctitleskip}{10pt} % Réduire l'espacement avant le titre de la table des matières

% Optimisation
\newcommand{\anneeUniversitaire}{2023/2024}
\newcommand{\prenomNOM}{Perigault Paul - Rebeller Owen}
\newcommand{\dateCreation}{09/06/2024}
\newcommand{\sujetMission}{R4.01}

% Hauteur de l'en-tête
\setlength{\headheight}{15pt}

\begin{document}

    % Page de titre sans header/footer
    \thispagestyle{plain}
    \input{title/title}

    % Résumé sans header/footer
    \clearpage
    \thispagestyle{plain}

    % Remerciements sans header/footer
    \clearpage
    \thispagestyle{plain}

    % Table des matières
    \clearpage
    \tableofcontents
    \clearpage

    % Sections principales
    \pagestyle{fancy} % Appliquer l'en-tête personnalisé à partir de ce point
    \input{server/server}
    \input{echangeCS/echangeCS}
    \input{lienApplicationBD/lienApplicationBD}
    \input{concurrence/concurrence}
    \input{maintenanceEvolutive/maintenanceEvolutive}
    \input{bretteSoft/bretteSoft}

\end{document}
